extends layout

block corpo
    .w3-container
        .w3-card-4
            header.w3-container.w3-blue
                h3 Lista de Tarefas
            .w3-container.w3-light-grey
                if lista.all
                    a(href='/lista').w3-button.w3-black Tarefas ativas
                else
                    a(href='/historico').w3-button.w3-black Historico de tarefas
                a(href='/registo').w3-button.w3-black Registar tarefa
                table.w3-table-all
                    tr.w3-grey
                        th Prazo limite
                        th Descrição
                        th Tipo
                        th Prioridade
                        th(colspan = '3') Ações
                        each item, index in lista.items
                            if !item.hidden || lista.all
                                if item.completo
                                    tr.w3-green
                                        td.w3-text-black= item.prazo
                                        td.w3-text-black= item.descricao
                                        td.w3-text-black= item.tipo
                                        td.w3-text-black= item.prioridade
                                        if !item.hidden
                                            td
                                                a(href='/Tarefa/'+index).w3-button.w3-black Ver Detalhes
                                            td
                                                a(href='/Finish/'+index).w3-button.w3-black Completar
                                            td
                                                a(href='/Hide/'+index).w3-button.w3-black Remover
                                        else
                                            td(colspan='3')
                                                a(href='/Tarefa/'+index).w3-button.w3-black Ver Detalhes
                                        
                                        
                                else
                                    tr.w3-red
                                        td.w3-text-black= item.prazo
                                        td.w3-text-black= item.descricao
                                        td.w3-text-black= item.tipo
                                        td.w3-text-black= item.prioridade
                                        if !item.hidden
                                            td
                                                a(href='/Tarefa/'+index).w3-button.w3-black Ver Detalhes
                                            td
                                                a(href='/Finish/'+index).w3-button.w3-black Completar
                                            td
                                                a(href='/Hide/'+index).w3-button.w3-black Remover
                                        else
                                            td(colspan='3')
                                                a(href='/Tarefa/'+index).w3-button.w3-black Ver Detalhes
                
            footer.w3-container.w3-light-grey
                address Gerado por PubsApp